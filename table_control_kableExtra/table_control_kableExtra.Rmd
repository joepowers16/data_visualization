---
title: "Control width of kable tables with kableExtra"
author: "JP"
date: "July 6, 2017"
output: html_document

---

```{r global options, include=FALSE}
knitr::opts_chunk$set(
  fig.path = 'figs/', fig.show = 'asis', dpi = 300, 
  include = TRUE, echo = TRUE, 
  warning = FALSE, message = FALSE, cache = FALSE,
  knitr.table.format = "html" 
) 

library(tidyverse)
library(knitr)
library(kableExtra)
```

While `kable` can easily produce tables in RMarkdown reports, they are fairly generic and can be awkwardly wide. 
```{r}
mtcars %>%
  group_by(cyl) %>%
  count %>% 
  kable()
```

<br>
`kableExtra` offers many formatting options not available in `kable`, but `kableExtra` can only work with *html formatted* tables generated by `kable`.

```{r}
# Set your knitr table format as a global option for the file
options(knitr.table.format = "html")
```

<br>
Controlling "style width" can alter table width.
```{r}
mtcars %>%
  group_by(cyl) %>% 
  count %>% 
  kable(align = "r", table.attr = "style='width:15%'")
```

<br>
`kableExtra::kable_styling` is super useful for controlling table width, font size, and many other features.
```{r}
mtcars %>%
  group_by(cyl) %>% 
  count %>% 
  kable(align = "r") %>% 
  kable_styling(bootstrap_options = "striped", full_width = F, 
    font_size = 14, position = "left") 
```

<br>
`position = "float_....."` allows you wrap text around your table. 
```{r}
mtcars %>%
  group_by(cyl) %>% 
  count %>% 
  kable(align = "r") %>% 
  kable_styling(bootstrap_options = "striped", full_width = F, 
    font_size = 14, position = "float_left") 
```
For instance lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum. Lorum ipsum et dolorum lorum ipsum et dolorum lorum ipsum et dolorum.

```{r}
mtcars %>%
  lm(mpg ~ wt * cyl, .) %>% 
  summary() %>% 
  coef() %>% 
  kable(align = "l", digits = 2) %>% 
  kable_styling(bootstrap_options = "striped") %>% 
  add_footnote("You can add a footnote")
```

## Miscelaneous tips
You can set `knitr` tables to "html" as a global option (see first chunk) or per each table as in chunk below.
```{r}
mtcars %>%
  group_by(cyl) %>%
  count %>%
  kable(format = "html", align = "r")
```

<br>
Adjusting chunk options does not change table format. 
```{r fig.width=4}
mtcars %>%
  group_by(cyl) %>% 
  count %>% 
  kable(align = "r")
```
## References

Great website on [kableExtra](http://haozhu233.github.io/kableExtra/awesome_table_in_html.html)